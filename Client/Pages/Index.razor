@page "/"
@namespace BlazorApp.Client.Pages
@layout MainLayout
<CascadingAuthenticationState>
    @if (!isPageReady)
        {
    <MatH4 Class="text-center">Loading App Services</MatH4>
    @*<MatH6 Class="text-center">In order to dynamically compile and execute any c# code you write, we have to load several assemblies. Almost done...</MatH6>*@
    <SpinKitFadingCircle />
    @*<div class="mainIcon" style="background-image: url('Icons/indexRvrLoad.png')"></div>*@
        }
    @*<div>
            else if(isPageReady || !isPageReady)
            {


            }
        </div>*@
    <CascadingValue Name="AppStateService" Value="AppState">
        <MatTabGroup @bind-ActiveIndex="AppState.TabIndex" disabled="@(!isPageReady)">
            <MatTab Label="Home">
                <div>
                    <MatH4>Check out some c# learning tools, including:</MatH4>
                    <div class="backgroundIcon mat-elevation-z12">
                        <MatList SingleSelection="true" TwoLine="true">
                            <MatListItem OnClick="@(() => SetTab(1))">
                                <MatListItemText>
                                    <MatListItemPrimaryText>c# Challenges</MatListItemPrimaryText>
                                    <MatListItemSecondaryText>
                                        Practice c# by taking some basic coding challenges
                                    </MatListItemSecondaryText>
                                </MatListItemText>
                            </MatListItem>

                            <MatListItem OnClick="@(() => SetTab(2))">
                                <MatListItemText>
                                    <MatListItemPrimaryText>Practice c#</MatListItemPrimaryText>
                                    <MatListItemSecondaryText>
                                        Monaco Editor with a variety of code snippets to get you started
                                    </MatListItemSecondaryText>
                                </MatListItemText>
                            </MatListItem>

                            <MatListItem OnClick="@(() =>  SetTab(3))">
                                <MatListItemText>
                                    <MatListItemPrimaryText>Watch c# Videos</MatListItemPrimaryText>
                                    <MatListItemSecondaryText>
                                        Select from a variety of Topics to watch YouTube training videos
                                    </MatListItemSecondaryText>
                                </MatListItemText>
                            </MatListItem>

                            <AuthorizeView>
                                <Authorized>
                                    <MatListItem OnClick="@(() =>  SetTab(4))">
                                        <MatListItemText>
                                            <MatListItemPrimaryText>Create c# Challenge</MatListItemPrimaryText>
                                            <MatListItemSecondaryText>
                                                Create and solve your own c# challenge, and add it to our database for others to solve
                                            </MatListItemSecondaryText>
                                        </MatListItemText>
                                    </MatListItem>
                                    <MatListItem Href="/diffShare">
                                        <MatListItemText>
                                            <MatListItemPrimaryText>
                                                Dual Editor Mode (diff)
                                            </MatListItemPrimaryText>
                                            <MatListItemSecondaryText>
                                                Team-up and code with a partner. Share your code instantly and see the highlighted diffs.(Experimental)
                                            </MatListItemSecondaryText>
                                        </MatListItemText>
                                    </MatListItem>
                                    <MatListItem Href="/arenaHub">
                                        <MatListItemText Style="color:darkblue">
                                            <MatListItemPrimaryText>
                                                Arena
                                            </MatListItemPrimaryText>
                                            <MatListItemSecondaryText>
                                                Compete in a code Arena(Experimental)
                                            </MatListItemSecondaryText>
                                        </MatListItemText>
                                    </MatListItem>
                                </Authorized>
                                <NotAuthorized>
                                    <MatListItem OnClick="@(() =>  SetTab(4))">
                                        <MatListItemText>
                                            <MatListItemPrimaryText>Log-in for more</MatListItemPrimaryText>
                                            <MatListItemSecondaryText>
                                                Log-in to track your progress, unlock new challenges and lessons, and add your own c# challenges!
                                            </MatListItemSecondaryText>
                                        </MatListItemText>
                                    </MatListItem>
                                </NotAuthorized>
                            </AuthorizeView>
                        </MatList>
                    </div>
                </div>
            </MatTab>

            <MatTab Label="Code Challenges">
                <CodeChallengeHome />
            </MatTab>
            <MatTab Label="Practice c#">
                <CodeHome />
            </MatTab>
            <MatTab Label="Watch c# Videos">
                <VideoHome />
            </MatTab>
            <AuthorizeView>
                <Authorized>
                    <MatTab Label="Add c# Challenge">
                        <ChallengeAddUser />
                    </MatTab>
                </Authorized>
                <NotAuthorized>
                    <MatTab Label="Sign in">
                        <LoginProvider />
                    </MatTab>
                </NotAuthorized>
            </AuthorizeView>
        </MatTabGroup>
    </CascadingValue>
    <div style="font-size: .7rem; bottom:0; right:100%; position: fixed; margin-top:10em">Icons made by <a href="https://www.flaticon.com/authors/catkuro" title="catkuro">catkuro</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a>
        <br /><a href="https://icons8.com/icon/67343/checkmark">Checkmark icon by Icons8</a></div>
</CascadingAuthenticationState>
